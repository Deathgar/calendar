@using MVC5FullCalandarPlugin.Models
@model List<User>

@helper GeneratePanel(User user)
{
    <input id="ha" class="btn hovers" type="button" value=@user.Email />
    <div id="ha" class="containerWithPanelsEvent">

        @foreach (var day in user.Days)
        {
            foreach (var holiday in day.PublicHolidays)
            {
                <div class="EventPanel" id=@holiday.Id>
                    @if (holiday.Image != null)
                    {
                        <img id="imageDay" src=@holiday.Image.Url style="height: 45%; object-fit: cover;"/> <br/>
                    }
                    else
                    {
                        <img id="imageDay" src="https://webref.ru/assets/images/html5-css3/img-04.jpg" style="height: 45%; object-fit: cover;" /> <br />
                    }

                    <div class="panelWithLabels">
                        <label class="labels"> Date: </label> <br/>
                        <div class="textLabels endDate">@holiday.End_Date</div>
                        <label class="labels"> Title: </label> <br/>
                        <div class="textLabels title">@holiday.Title </div>
                        <label class="labels"> Time: </label> <br/>
                        <div class="textLabels time">@holiday.Time</div>
                        <label class="labels"> Description: </label> <br/>
                        <div class="textLabels description">@holiday.Description</div>
                    </div>
                </div>
            }
        }
        

    </div>
}

@foreach (var user in Model)
{
    @GeneratePanel(user);
}

<script type="text/javascript">
    $(function () {
        $('.EventPanel').on('click',
            function () {
                console.log($(this).find(".title").text());

            });
    });
</script>

<style>

    #aa {
        border: blue solid 1px;
        border-left: blue solid 15px;
    }

    .textLabels {
        margin-left: 10%;
        word-wrap: break-word;
    }

    .panelWithLabels {
        text-align: left;
        width: 97.5%;
        margin-top: 2%;
        margin-left: 1%;
        padding-left: 4%;
        background: lavender;
    }

    .EventPanel {
        background: aliceblue;
        border: steelblue solid 1px;
        width: 23%;
        height: 354px;
        margin-right: 16px;
        margin-bottom: 1%;
        overflow: auto;
        display: inline-block;
        text-align: center;
        padding-left: 0.4%;
        padding-top: 0.8%;
        padding-bottom: 0.2%;
        padding-right: 0.5%;
    }

    .colorStatus {
        margin-top: 0;
        background: black;
        width: 100%;
        height: 1%;
    }

    .labels {
        width: 95%;
    }

    .containerWithPanelsEvent {
        margin-top: 5px;
        margin-left: 2%;
        width: 95%;
        height: 600px;
        overflow: auto;
        border: black solid 1px;
        box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
        padding-left: 2%;
        padding-top: 2%;
        background: #f7f7f7
    }

    .hovers {
        margin-top: 10px;
        width: 100%;
    }

    input {
        max-width: 100%;
    }
</style>
